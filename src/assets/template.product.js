!function(e){function t(t){for(var n,i,c=t[0],s=t[1],u=t[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(l&&l(t);p.length;)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,c=1;c<r.length;c++){var s=r[c];0!==a[s]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={7:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.shopifySlateJsonp=window.shopifySlateJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;o.push([127,0,1]),r()}({127:function(e,t,r){"use strict";var n=r(2);r(5),console.log("product test - TEMPLATE.PRODUCT.JS test"),(0,n.load)("*")},5:function(e,t,r){"use strict";var n=u(r(15)),a=u(r(16)),o=r(24),i=r(23),c=r(2),s=r(11);function u(e){return e&&e.__esModule?e:{default:e}}var l="hide",d={submitButton:"[data-submit-button]",submitButtonText:"[data-submit-button-text]",comparePrice:"[data-compare-price]",comparePriceText:"[data-compare-text]",priceWrapper:"[data-price-wrapper]",imageWrapper:"[data-product-image-wrapper]",visibleImageWrapper:"[data-product-image-wrapper]:not(.hide)",imageWrapperById:function(e){return d.imageWrapper+"[data-image-id='"+e+"']"},productForm:"[data-product-form]",productPrice:"[data-product-price]",thumbnail:"[data-product-single-thumbnail]",thumbnailById:function(e){return"[data-thumbnail-id='"+e+"']"},thumbnailActive:"[data-product-single-thumbnail][aria-current]",variantNotice:"[data-variant-notice]"};(0,c.register)("product",{onLoad:function(){var e=this;return(0,a.default)(n.default.mark((function t(){var r;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Testing 20210416 123"),console.log("this"),console.log(e),r=document.querySelector(d.productForm),t.next=6,e.getProductJson(r.dataset.productHandle);case 6:e.product=t.sent,e.productForm=new o.ProductForm(r,e.product,{onOptionChange:e.onFormOptionChange.bind(e)}),console.log("this.product"),console.log(e.product),console.log("this.productForm"),console.log(e.productForm);case 12:case"end":return t.stop()}}),t,e)})))()},onUnload:function(){this.productForm.destroy(),this.removeEventListener("click",this.onThumbnailClick),this.removeEventListener("keyup",this.onThumbnailKeyup)},getProductJson:function(e){return fetch("/products/"+e+".js").then((function(e){return e.json()}))},onFormOptionChange:function(e){console.log("onFormOptionChange variant test 123 id");var t=e.dataset.variant;console.log("variant"),console.log(t),console.log("variant id"),console.log(t.id),this.renderImages(t),this.renderPrice(t),this.renderComparePrice(t),this.renderSubmitButton(t),this.renderVariantNotice(t),this.updateBrowserHistory(t);var r=window.location.search,n=new URLSearchParams(r).get("variant");$('[value="'+t.id+'"]').prop("selected",!0),console.log("urlVariant"),console.log(n),console.log("Update Variant variant.id"),$("[data-form-variant-input]").val(t.id)},onThumbnailClick:function(e){console.log("thumbclick return;");var t=e.target.closest(d.thumbnail);t&&(e.preventDefault(),this.renderFeaturedImage(t.dataset.thumbnailId),this.renderActiveThumbnail(t.dataset.thumbnailId))},onThumbnailKeyup:function(e){if(13===e.keyCode&&e.target.closest(d.thumbnail)){var t=this.container.querySelector(d.visibleImageWrapper);(0,s.forceFocus)(t)}},renderSubmitButton:function(e){var t=this.container.querySelector(d.submitButton),r=this.container.querySelector(d.submitButtonText),n=e.id,a=this.container.querySelector('[data-variant-id="'+n+'"]');if(a)var o=a.dataset.variantQty,i=a.dataset.variantPolicy;else o=!1,i=!1;e?e.available&&o>0?(t.disabled=!1,r.innerText=theme.strings.addToCart):o<1&&"continue"==i?(t.disabled=!1,r.innerText="Pre-order"):(t.disabled=!0,r.innerText=theme.strings.soldOut):(t.disabled=!0,r.innerText=theme.strings.unavailable)},renderVariantNotice:function(e){var t=this.container.querySelector(d.variantNotice),r=e.id,n=this.container.querySelector('[data-variant-id="'+r+'"]');if(n)var a=n.dataset.variantQty,o=n.dataset.variantPolicy;else a=!1,o=!1;a<1&&"continue"==o?(t.classList.add("is-shown"),t.classList.remove("is-hidden")):(t.classList.remove("is-shown"),t.classList.add("is-hidden"))},renderImages:function(e){e&&null!==e.featured_image&&(this.renderFeaturedImage(e.featured_image.id),this.renderActiveThumbnail(e.featured_image.id))},renderPrice:function(e){var t=this.container.querySelector(d.productPrice);this.container.querySelector(d.priceWrapper).classList.toggle(l,!e),e&&(t.innerText=(0,i.formatMoney)(e.price,theme.moneyFormat))},renderComparePrice:function(e){if(e){var t=this.container.querySelector(d.comparePrice),r=this.container.querySelector(d.comparePriceText);t&&r&&(e.compare_at_price>e.price?(t.innerText=(0,i.formatMoney)(e.compare_at_price,theme.moneyFormat),r.classList.remove(l),t.classList.remove(l)):(t.innerText="",r.classList.add(l),t.classList.add(l)))}},renderActiveThumbnail:function(e){var t=this.container.querySelector(d.thumbnailById(e)),r=this.container.querySelector(d.thumbnailActive);t!==r&&(r.removeAttribute("aria-current"),t.setAttribute("aria-current",!0))},renderFeaturedImage:function(e){var t=this.container.querySelector(d.visibleImageWrapper),r=this.container.querySelector(d.imageWrapperById(e));t.classList.add(l),r.classList.remove(l)},updateBrowserHistory:function(e){var t=this.productForm.element.dataset.enableHistoryState;if(e&&"true"===t){console.log("some test");var r=(0,o.getUrlWithVariant)(window.location.href,e.id);window.history.replaceState({path:r},"",r)}}})}});